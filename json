---

## ğŸ“‘ Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª (Bookings)

| Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© | Ø§Ù„Ù…Ø³Ø§Ø± | Ø§Ù„ÙˆØµÙ | Ù…Ø«Ø§Ù„ Ø§Ù„Ù€ Body |
|---------|--------|-------|---------------|
| POST    | `/api/bookings/add`                | Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø¬Ø² Ø¬Ø¯ÙŠØ¯ (status=Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±) | `{ "offer_id": "<Ù…Ø¹Ø±Ù Ø§Ù„Ø¹Ø±Ø¶>", "full_name": "Ø§Ø³Ù… Ø§Ù„Ù…Ø¹ØªÙ…Ø±", "phone": "0555555555", "passport_image_url": "Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø©", "room_type": "Ù…Ø²Ø¯ÙˆØ¬" }` |
| PUT     | `/api/bookings/approve-by-admin/:id` | Ù…ÙˆØ§ÙÙ‚Ø© Ø§Ù„Ù…Ø¯ÙŠØ± Ø£Ùˆ Ø§Ù„Ù…Ø¯ÙŠØ± Ø§Ù„ÙØ±Ø¹ÙŠ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ Ø¹Ù† Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ù„Ø¨ÙŠØ§Øª (statusâ†’Ø¨Ø§Ù†ØªØ¸Ø§Ø± Ù…ÙˆØ§ÙÙ‚Ø© Ø§Ù„ÙˆÙƒØ§Ù„Ø©) |  |
| PUT     | `/api/bookings/approve-by-agency/:id`| Ù…ÙˆØ§ÙÙ‚Ø© Ø§Ù„ÙˆÙƒØ§Ù„Ø© (statusâ†’Ù…Ù‚Ø¨ÙˆÙ„ØŒ Ø¥Ø±Ø³Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¹ØªÙ…Ø±) |  |
| PUT     | `/api/bookings/reject/:id`           | Ø±ÙØ¶ Ø§Ù„Ø­Ø¬Ø² (Ù…Ù† Ø§Ù„Ù…Ø¯ÙŠØ± Ø£Ùˆ Ø§Ù„ÙˆÙƒØ§Ù„Ø©) Ù…Ø¹ Ø­Ø°Ù Ø§Ù„Ø·Ù„Ø¨ Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹ |  |
# Ù‚Ø§Ø¦Ù…Ø© Ø¹Ù†Ø§ÙˆÙŠÙ† Ø§Ù„Ù€ API (Umrah API)

---

## ğŸ›¡ï¸ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© (Admins)

| Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© | Ø§Ù„Ù…Ø³Ø§Ø± | Ø§Ù„ÙˆØµÙ | Ù…Ø«Ø§Ù„ Ø§Ù„Ù€ Body |
|---------|--------|-------|---------------|
| POST    | `/api/admin/add-admin`         | Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø¯ÙŠØ± Ø¹Ø§Ù… Ø¬Ø¯ÙŠØ¯ | `{ "email": "admin@email.com", "password": "yourPassword", "full_name": "Ø§Ø³Ù… Ø§Ù„Ù…Ø¯ÙŠØ±" }` |
| POST    | `/api/admin/login-admin`       | ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ù…Ø¯ÙŠØ± | `{ "email": "admin@email.com", "password": "yourPassword" }` |
| GET     | `/api/admin/all`               | Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø¯Ø±Ø§Ø¡ |  |
| POST    | `/api/admin/add-sub-admin`     | Ø¥Ø¶Ø§ÙØ© Ù…Ø¯ÙŠØ± ÙØ±Ø¹ÙŠ Ø¬Ø¯ÙŠØ¯ | `{ "email": "subadmin@email.com", "password": "yourPassword", "full_name": "Ù…Ø¯ÙŠØ± ÙØ±Ø¹ÙŠ", "role": "sub", "permissions": { "can_approve_agencies": true, "manage_agencies": true, "manage_offers": true }, "created_by": "Ù…Ø¹Ø±Ù_Ø§Ù„Ù…Ø¯ÙŠØ±_Ø§Ù„Ø¹Ø§Ù…" }` |
| PUT     | `/api/admin/update/:id`        | ØªØ¹Ø¯ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø¯ÙŠØ± ÙØ±Ø¹ÙŠ Ø£Ùˆ Ù…Ù…ÙŠØ² | `{ "full_name": "Ø§Ø³Ù… Ø¬Ø¯ÙŠØ¯", "permissions": { "can_approve_agencies": false, "manage_agencies": true, "manage_offers": false } }` |
| DELETE  | `/api/admin/delete/:id`        | Ø­Ø°Ù Ù…Ø¯ÙŠØ± ÙØ±Ø¹ÙŠ Ø£Ùˆ Ù…Ù…ÙŠØ² |  |

---

## ğŸ¢ Ø§Ù„ÙˆÙƒØ§Ù„Ø§Øª (Agencies)

| Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© | Ø§Ù„Ù…Ø³Ø§Ø± | Ø§Ù„ÙˆØµÙ | Ù…Ø«Ø§Ù„ Ø§Ù„Ù€ Body |
|---------|--------|-------|---------------|
| POST    | `/api/agencies/add`            | Ø¥Ø¶Ø§ÙØ© ÙˆÙƒØ§Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø© | `{ "email": "agency@email.com", "password": "yourPassword", "name": "Ø§Ø³Ù… Ø§Ù„ÙˆÙƒØ§Ù„Ø©", "wilaya": "Ø§Ù„ÙˆÙ„Ø§ÙŠØ©", "license_number": "12345", "phone": "0555555555", "bank_account": "Ø±Ù‚Ù… Ø§Ù„Ø­Ø³Ø§Ø¨", "logo_url": "Ø±Ø§Ø¨Ø· Ø§Ù„Ø´Ø¹Ø§Ø±", "background_url": "Ø±Ø§Ø¨Ø· Ø§Ù„Ø®Ù„ÙÙŠØ©", "location_name": "Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù†ØµÙŠ", "latitude": 36.123, "longitude": 3.456 }` |
| GET     | `/api/agencies/all`            | Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙˆÙƒØ§Ù„Ø§Øª |  |
| GET     | `/api/agencies/pending`        | Ø¬Ù„Ø¨ Ø§Ù„ÙˆÙƒØ§Ù„Ø§Øª Ø§Ù„Ù…Ø¹Ù„Ù‚Ø© ÙÙ‚Ø· (ÙŠØªØ·Ù„Ø¨ ØµÙ„Ø§Ø­ÙŠØ© can_approve_agencies) |  |
| PUT     | `/api/agencies/status/:id`     | Ù‚Ø¨ÙˆÙ„ Ø£Ùˆ ØªØ¹Ù„ÙŠÙ‚ ÙˆÙƒØ§Ù„Ø© (ÙŠØªØ·Ù„Ø¨ ØµÙ„Ø§Ø­ÙŠØ© can_approve_agencies) | `{ "is_approved": true }` Ø£Ùˆ `{ "is_approved": false }` |

---

## ğŸ’¼ Ø§Ù„Ø¹Ø±ÙˆØ¶ (Offers)

| Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© | Ø§Ù„Ù…Ø³Ø§Ø± | Ø§Ù„ÙˆØµÙ | Ù…Ø«Ø§Ù„ Ø§Ù„Ù€ Body |
|---------|--------|-------|---------------|
| POST    | `/api/offers/add`              | Ø¥Ø¶Ø§ÙØ© Ø¹Ø±Ø¶ Ø¬Ø¯ÙŠØ¯ (ÙŠØªØ·Ù„Ø¨ ØµÙ„Ø§Ø­ÙŠØ© manage_offers) | `{ "agency_id": "<Ù…Ø¹Ø±Ù Ø§Ù„ÙˆÙƒØ§Ù„Ø©>", "title": "Ø¹Ø±Ø¶ Ø¹Ù…Ø±Ø© Ø±Ù…Ø¶Ø§Ù†", "main_image": "https://example.com/image.jpg", "services": { "visa": true, "transport": true, "meals": true }, "airline_id": 1, "flight_type": "Ù…Ø¨Ø§Ø´Ø±Ø©", "departure_date": "2025-03-15", "return_date": "2025-03-30", "duration_days": 15, "hotel_name": "ÙÙ†Ø¯Ù‚ Ù…ÙƒØ©", "hotel_distance": 500, "hotel_images": ["https://example.com/hotel1.jpg", "https://example.com/hotel2.jpg"], "description": "Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø¹Ù…Ø±Ø© Ø´Ø§Ù…Ù„ Ø§Ù„Ø¥Ù‚Ø§Ù…Ø© ÙˆØ§Ù„Ù†Ù‚Ù„", "entry_exit": "Ø¬Ø¯Ø©", "price_double": 15000, "price_triple": 14000, "price_quad": 13000, "price_quint": 12000 }` |
| GET     | `/api/offers/all`              | Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ø±ÙˆØ¶ |  |
| PUT     | `/api/offers/update/:id`       | ØªØ¹Ø¯ÙŠÙ„ Ø¹Ø±Ø¶ (ÙŠØªØ·Ù„Ø¨ ØµÙ„Ø§Ø­ÙŠØ© manage_offers) | `{ "title": "Ø¹Ù†ÙˆØ§Ù† Ø¬Ø¯ÙŠØ¯", "price_double": 10000 }` |
| DELETE  | `/api/offers/delete/:id`       | Ø­Ø°Ù Ø¹Ø±Ø¶ (ÙŠØªØ·Ù„Ø¨ ØµÙ„Ø§Ø­ÙŠØ© manage_offers) |  |

---

## ğŸ›¡ï¸ Ø§Ù„Ø­Ù…Ø§ÙŠØ© ÙˆØ§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª

- Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª (Ø¹Ø¯Ø§ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„) ØªØªØ·Ù„Ø¨ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªÙˆÙƒÙ† ÙÙŠ Ø§Ù„Ù‡ÙŠØ¯Ø±:
  - `Authorization: Bearer <access_token>`
- ÙƒÙ„ Ø¹Ù…Ù„ÙŠØ© Ù…Ù‚ÙŠØ¯Ø© Ø­Ø³Ø¨ Ø§Ù„Ø¯ÙˆØ± Ø£Ùˆ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©:
  - Ø§Ù„Ù…Ø¯ÙŠØ± Ø§Ù„Ø¹Ø§Ù… (role: main) Ù„Ù‡ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª.
  - Ø§Ù„Ù…Ø¯ÙŠØ± Ø§Ù„ÙØ±Ø¹ÙŠ (role: sub) ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙ…ØªÙ„Ùƒ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© (manage_agencies, can_approve_agencies, manage_offers).
- ØªÙ… ØªÙˆØ­ÙŠØ¯ Ù…ÙŠØ¯Ù„ÙˆÙŠØ± Ø­Ù…Ø§ÙŠØ© Ø§Ù„ØªÙˆÙƒÙ† JWT ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª.

---



